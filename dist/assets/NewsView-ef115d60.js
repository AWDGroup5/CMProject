import{o as c,c as i,a as _,b as e,r,d as k,e as h,F as w,f as C,g as I,t as v}from"./index-55fe8905.js";const R={key:0},V=e("div",null,"Loading",-1),$=e("div",{class:"lds"},[e("div"),e("div"),e("div")],-1),b=[V,$],B={__name:"Loading",props:{loaded:Boolean},setup(u){return(l,d)=>u.loaded?_("",!0):(c(),i("div",R,b))}};const L={class:"details-card"},D=e("h1",{class:"cardio"},"Cardiomyopathy News from around the Web",-1),J={key:0,class:"updating"},O={key:1,class:"container-fluid mt-4"},j={class:"row"},E={class:"card-content"},F={class:"card-img"},G=["src"],U={class:"card-desc"},q=["href"],P={__name:"NewsView",setup(u){const l=r(null),d=r(!1),g=r(!1);async function p(){const a=localStorage.getItem("CmRss");if(a){let t=JSON.parse(a);t[0].image||(t=t.map(s=>{const o=s.image;return{...s,image:o}}),localStorage.setItem("CmRss",JSON.stringify(t))),l.value=t,d.value=!0,g.value=!0}I.get("https://rss.app/feeds/v1.1/1mDqPNunGm48692G.json").then(t=>{const s=t.data.items,o=s.map(n=>{const y=n.title,N=n.url,x=n.content_text,S=n.image;return{title:y,link:N,description:x,image:S}});s.value=o,console.log("ITEM :: ",s[2].image),localStorage.setItem("CmRss",JSON.stringify(o)),d.value=!0}).catch(t=>{console.error(t)})}function f(a){return a.image?a.image:"https://via.placeholder.com/300x200?text=No+Image"}function m(a,t){const s=a.split(" ");return s.length>t?s.slice(0,t).join(" ")+"...":a}return p(),(a,t)=>{const s=k("el-divider");return c(),i("section",L,[D,h(s),h(B,{loaded:d.value},null,8,["loaded"]),g.value?(c(),i("div",J,"Using cached RSS feed")):_("",!0),l.value?(c(),i("div",O,[e("div",j,[(c(!0),i(w,null,C(l.value,(o,n)=>(c(),i("div",{class:"col-md-4 mb-4",key:n},[e("div",E,[e("div",F,[e("img",{src:f(o),alt:"",style:{height:"300px"}},null,8,G)]),e("div",U,[e("h3",null,v(m(o.title,12)),1),e("p",null,v(m(o.description,20)),1),e("a",{href:o.link,class:"btn-card"},"Read",8,q)])])]))),128))])])):_("",!0)])}}};export{P as default};
